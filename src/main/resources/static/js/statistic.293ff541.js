(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["statistic"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("7b0b"),o=n("50c4"),c=n("a691"),l=n("1d80"),s=n("8aa5"),u=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var m=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=a.REPLACE_KEEPS_$0,b=m?"$":"$0";return[function(n,a){var r=l(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!m&&x||"string"===typeof a&&-1===a.indexOf(b)){var i=n(e,t,this,a);if(i.done)return i.value}var l=r(t),p=String(this),h="function"===typeof a;h||(a=String(a));var g=l.global;if(g){var y=l.unicode;l.lastIndex=0}var S=[];while(1){var w=u(l,p);if(null===w)break;if(S.push(w),!g)break;var C=String(w[0]);""===C&&(l.lastIndex=s(p,o(l.lastIndex),y))}for(var R="",k=0,_=0;_<S.length;_++){w=S[_];for(var O=String(w[0]),I=d(f(c(w.index),p.length),0),P=[],$=1;$<w.length;$++)P.push(v(w[$]));var T=w.groups;if(h){var A=[O].concat(P,I,p);void 0!==T&&A.push(T);var Y=String(a.apply(void 0,A))}else Y=E(O,p,I,P,T,a);I>=k&&(R+=p.slice(k,I)+Y,k=I+O.length)}return R+p.slice(k)}];function E(t,n,a,r,o,c){var l=a+t.length,s=r.length,u=g;return void 0!==o&&(o=i(o),u=h),e.call(c,u,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(l);case"<":c=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>s){var d=p(u/10);return 0===d?e:d<=s?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):e}c=r[u-1]}return void 0===c?"":c}))}}))},6547:function(t,e,n){var a=n("a691"),r=n("1d80"),i=function(t){return function(e,n){var i,o,c=String(r(e)),l=a(n),s=c.length;return l<0||l>=s?t?"":void 0:(i=c.charCodeAt(l),i<55296||i>56319||l+1===s||(o=c.charCodeAt(l+1))<56320||o>57343?t?c.charAt(l):i:t?c.slice(l,l+2):o-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},"841c":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("1d80"),o=n("129f"),c=n("14c3");a("search",1,(function(t,e,n){return[function(e){var n=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var i=r(t),l=String(this),s=i.lastIndex;o(s,0)||(i.lastIndex=0);var u=c(i,l);return o(i.lastIndex,s)||(i.lastIndex=s),null===u?-1:u.index}]}))},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),i=RegExp.prototype.exec,o=String.prototype.replace,c=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||s;d&&(c=function(t){var e,n,r,c,d=this,f=s&&d.sticky,p=a.call(d),h=d.source,g=0,v=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,g++),n=new RegExp("^(?:"+h+")",p)),u&&(n=new RegExp("^"+h+"$(?!\\s)",p)),l&&(e=d.lastIndex),r=i.call(f?n:d,v),f?r?(r.input=r.input.slice(g),r[0]=r[0].slice(g),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:l&&r&&(d.lastIndex=d.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(r[c]=void 0)})),r}),t.exports=c},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("d039"),i=n("b622"),o=n("9263"),c=n("9112"),l=i("species"),s=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var h=i(t),g=!r((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=g&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!g||!v||"replace"===t&&(!s||!u||f)||"split"===t&&!p){var m=/./[h],x=n(h,""[t],(function(t,e,n,a,r){return e.exec===o?g&&!r?{done:!0,value:m.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=x[0],E=x[1];a(String.prototype,t,b),a(RegExp.prototype,h,2==e?function(t,e){return E.call(t,this,e)}:function(t){return E.call(t,this)})}d&&c(RegExp.prototype[h],"sham",!0)}},d8d7:function(t,e,n){"use strict";var a=n("e46a"),r=n.n(a);r.a},e46a:function(t,e,n){},eff6:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"the-statistic-container"},[n("el-row",{staticClass:"search-box",attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("span",{staticClass:"label"},[t._v("日期")]),n("el-date-picker",{attrs:{clear:"",type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},on:{clear:t.search,change:t.search},model:{value:t.filter.date,callback:function(e){t.$set(t.filter,"date",e)},expression:"filter.date"}})],1),n("el-col",{attrs:{span:10}},[n("span",{staticClass:"label"},[t._v("寄件公司")]),n("el-input",{attrs:{clearable:"",filterable:"",placeholder:"输入寄件公司搜索"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.filter.company,callback:function(e){t.$set(t.filter,"company",e)},expression:"filter.company"}})],1)],1),n("el-row",{staticClass:"table-box"},[n("el-col",{staticClass:"btn-action",attrs:{span:24}},[n("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-refresh"},on:{click:t.search}},[t._v("刷新")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"billingTable",attrs:{size:"medium",data:t.dataList,border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","header-cell-class-name":"table-header-custom",height:t.tableHeight},on:{"sort-change":t.handleSortChange}},[n("el-table-column",{attrs:{label:"寄件日期",idth:"100",prop:"date",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("dateFormat")(e.row.date)))])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"寄件公司","min-width":"200",sortable:"custom","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"num",label:"票数",sortable:"custom"}}),n("el-table-column",{attrs:{prop:"price",label:"总金额",sortable:"custom"}}),n("el-table-column",{attrs:{prop:"cost",label:"总成本",sortable:"custom"}}),n("el-table-column",{attrs:{prop:"profit",label:"总利润",sortable:"custom"}})],1),n("el-pagination",{attrs:{layout:"total, prev, pager, next, sizes, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[15,30,50],total:t.pagination.total},on:{"current-change":t.handlePageChange,"size-change":t.handleSizeChange}})],1)],1)},r=[],i=(n("4de4"),n("ac1f"),n("5319"),n("841c"),n("96cf"),n("1da1")),o=n("c1df"),c=n.n(o),l=n("60fe"),s=n("365c"),u="YYYY-MM-DD HH:mm:ss",d={name:"Statistic",filters:{dateFormat:function(t){return t?c()(t).format("YYYY-MM-DD"):t}},data:function(){return{PROVINCE:l["b"],filter:{date:"",company:""},tableHeight:100,loading:!1,dataList:[],pagination:{currentPage:1,pageSize:15,total:null},sortOrder:{properties:"cost",direction:"desc"},pickerOptions:{shortcuts:[{text:"本月",onClick:function(t){var e=c()().startOf("month").format(u),n=c()().format(u);t.$emit("pick",[e,n])}},{text:"上月",onClick:function(t){var e=c()().month(c()().month()-1).startOf("month").format(u),n=c()().month(c()().month()-1).endOf("month").format(u);t.$emit("pick",[e,n])}},{text:"最近三个月",onClick:function(t){var e=c()().subtract(3,"month").startOf("month").format(u),n=c()().format(u);t.$emit("pick",[e,n])}}]}}},created:function(){this.fetchStatisticList()},mounted:function(){this.getTableHeight()},methods:{tableRowClassName:function(t){var e=t.rowIndex;return e%2===1?"":"success-row"},handleSortChange:function(t){this.sortOrder.properties=t.prop.replace(/[A-Z]/g,(function(t){return"_".concat(t.toLowerCase())})),this.sortOrder.direction="ascending"===t.order?"asc":"desc",this.search()},search:function(){this.pagination.currentPage=1,this.fetchStatisticList()},fetchStatisticList:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=!(t.length>0&&void 0!==t[0])||t[0],e.loading=a,r={page:e.pagination.currentPage,size:e.pagination.pageSize,sortProperties:e.sortOrder.properties,sortDirection:e.sortOrder.direction,startTime:e.filter.date&&e.filter.date.length>1?c()(e.filter.date[0]).startOf("day").format("YYYY-MM-DD HH:mm:ss"):"",endTime:e.filter.date&&e.filter.date.length>1?c()(e.filter.date[1]).endOf("day").format("YYYY-MM-DD HH:mm:ss"):"",company:e.filter.company},n.next=5,s["a"].getStatisticList(r);case 5:i=n.sent,i&&1===i.code&&(e.dataList=i.data.data||[],e.pagination.total=i.data.total),e.loading=!1;case 8:case"end":return n.stop()}}),n)})))()},getTableHeight:function(){var t=this;setTimeout((function(){t.tableHeight=window.innerHeight-t.$refs.billingTable.$el.offsetTop-212}),100)},handleSizeChange:function(t){this.pagination.currentPage=1,this.pagination.pageSize=t,this.fetchStatisticList()},handlePageChange:function(t){this.pagination.currentPage=t,this.fetchStatisticList()}}},f=d,p=(n("d8d7"),n("2877")),h=Object(p["a"])(f,a,r,!1,null,null,null);e["default"]=h.exports}}]);